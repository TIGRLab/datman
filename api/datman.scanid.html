<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datman.scanid module &mdash; Datman 0.1.dev1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datman.utils module" href="datman.utils.html" />
    <link rel="prev" title="datman.scan_list module" href="datman.scan_list.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Datman
          </a>
              <div class="version">
                0.1.dev1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#docker-container">Docker Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to Datman</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datman_conf.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../script_overview.html">Script Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datman_files.html">Other important files</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Library API (application program interface)</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="datman.html">datman package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="datman.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datman.config.html">datman.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.dashboard.html">datman.dashboard module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.exceptions.html">datman.exceptions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.exporters.html">datman.exporters module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.fs_log_scraper.html">datman.fs_log_scraper module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.header_checks.html">datman.header_checks module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.metrics.html">datman.metrics module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.scan.html">datman.scan module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.scan_list.html">datman.scan_list module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datman.scanid module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.utils.html">datman.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="datman.xnat.html">datman.xnat module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">What’s new?</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Datman</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">Library API (application program interface)</a></li>
          <li class="breadcrumb-item"><a href="datman.html">datman package</a></li>
      <li class="breadcrumb-item active">datman.scanid module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/datman.scanid.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-datman.scanid">
<span id="datman-scanid-module"></span><h1>datman.scanid module<a class="headerlink" href="#module-datman.scanid" title="Permalink to this headline"></a></h1>
<p>Manages name conventions and functions to ensure that IDs conform to them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While multiple ID conventions are supported (Datman, KCNI, BIDS)
the datman convention is the ‘base’/default convention used. As a result
all conventions get parsed into datman fields and return datman IDs when
get_full_subjectid and other similar methods are called. The original ID
in its native convention can always be retrieved from ‘orig_id’.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="datman.scanid.BIDSFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">BIDSFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">echo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L200"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.BIDSFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">DatmanIdentifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L62"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.DatmanIdentifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datman.scanid.Identifier" title="datman.scanid.Identifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">datman.scanid.Identifier</span></code></a></p>
<p>Parses a datman-style ID into fields.</p>
<p>The datman convention is detailed
<a class="reference external" href="https://github.com/TIGRLab/documentation/wiki/Data-Naming">here</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.get_xnat_experiment_id">
<span class="sig-name descname"><span class="pre">get_xnat_experiment_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L123"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.DatmanIdentifier.get_xnat_experiment_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.get_xnat_subject_id">
<span class="sig-name descname"><span class="pre">get_xnat_subject_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L120"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.DatmanIdentifier.get_xnat_subject_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.pha_pattern">
<span class="sig-name descname"><span class="pre">pha_pattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^(?P&lt;id&gt;(?P&lt;study&gt;[^_]+)_(?P&lt;site&gt;[^_]+)_(?P&lt;subject&gt;PHA_(?P&lt;type&gt;[A-Z]{3})(?P&lt;num&gt;[0-9]{4,6}))(?P&lt;timepoint&gt;)(?P&lt;session&gt;))$')</span></em><a class="headerlink" href="#datman.scanid.DatmanIdentifier.pha_pattern" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.pha_re">
<span class="sig-name descname"><span class="pre">pha_re</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'(?P&lt;id&gt;(?P&lt;study&gt;[^_]+)_(?P&lt;site&gt;[^_]+)_(?P&lt;subject&gt;PHA_(?P&lt;type&gt;[A-Z]{3})(?P&lt;num&gt;[0-9]{4,6}))(?P&lt;timepoint&gt;)(?P&lt;session&gt;))'</span></em><a class="headerlink" href="#datman.scanid.DatmanIdentifier.pha_re" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.scan_pattern">
<span class="sig-name descname"><span class="pre">scan_pattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^(?P&lt;id&gt;(?P&lt;study&gt;[^_]+)_(?P&lt;site&gt;[^_]+)_(?P&lt;subject&gt;[^_]+)(?&lt;!PHA)_(?P&lt;timepoint&gt;[^_]+)_(?!MR)(?!SE)(?P&lt;session&gt;[^_]+))$')</span></em><a class="headerlink" href="#datman.scanid.DatmanIdentifier.scan_pattern" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.scan_re">
<span class="sig-name descname"><span class="pre">scan_re</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'(?P&lt;id&gt;(?P&lt;study&gt;[^_]+)_(?P&lt;site&gt;[^_]+)_(?P&lt;subject&gt;[^_]+)(?&lt;!PHA)_(?P&lt;timepoint&gt;[^_]+)_(?!MR)(?!SE)(?P&lt;session&gt;[^_]+))'</span></em><a class="headerlink" href="#datman.scanid.DatmanIdentifier.scan_re" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="datman.scanid.DatmanIdentifier.session">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session</span></span><a class="headerlink" href="#datman.scanid.DatmanIdentifier.session" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datman.scanid.Identifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">Identifier</span></span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L19"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_bids_name">
<span class="sig-name descname"><span class="pre">get_bids_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L32"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_bids_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_full_subjectid">
<span class="sig-name descname"><span class="pre">get_full_subjectid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L29"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_full_subjectid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_full_subjectid_with_timepoint">
<span class="sig-name descname"><span class="pre">get_full_subjectid_with_timepoint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L35"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_full_subjectid_with_timepoint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_full_subjectid_with_timepoint_session">
<span class="sig-name descname"><span class="pre">get_full_subjectid_with_timepoint_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_full_subjectid_with_timepoint_session" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_xnat_experiment_id">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_xnat_experiment_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_xnat_experiment_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.get_xnat_subject_id">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_xnat_subject_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L47"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.get_xnat_subject_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.Identifier.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L20"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.Identifier.match" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">KCNIIdentifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L130"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.KCNIIdentifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#datman.scanid.Identifier" title="datman.scanid.Identifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">datman.scanid.Identifier</span></code></a></p>
<p>Parses a KCNI style ID into datman-style fields.</p>
<p>The KCNI convention is detailed
<a class="reference external" href="http://neurowiki.camh.ca/mediawiki/index.php/XNATNamingConvention">here.</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.get_xnat_experiment_id">
<span class="sig-name descname"><span class="pre">get_xnat_experiment_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L193"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.KCNIIdentifier.get_xnat_experiment_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.get_xnat_subject_id">
<span class="sig-name descname"><span class="pre">get_xnat_subject_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L183"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.KCNIIdentifier.get_xnat_subject_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.pha_pattern">
<span class="sig-name descname"><span class="pre">pha_pattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^(?P&lt;id&gt;(?P&lt;study&gt;[A-Z]{3}[0-9]{2})_(?P&lt;site&gt;[A-Z]{3})_(?P&lt;pha_type&gt;[A-Z]{3})PHA_(?P&lt;subject&gt;[0-9]{4,6})_(?P&lt;modality&gt;[A-Z]{2,4})(?P&lt;timepoint&gt;)(?P&lt;session&gt;))$')</span></em><a class="headerlink" href="#datman.scanid.KCNIIdentifier.pha_pattern" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.pha_re">
<span class="sig-name descname"><span class="pre">pha_re</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'(?P&lt;id&gt;(?P&lt;study&gt;[A-Z]{3}[0-9]{2})_(?P&lt;site&gt;[A-Z]{3})_(?P&lt;pha_type&gt;[A-Z]{3})PHA_(?P&lt;subject&gt;[0-9]{4,6})_(?P&lt;modality&gt;[A-Z]{2,4})(?P&lt;timepoint&gt;)(?P&lt;session&gt;))'</span></em><a class="headerlink" href="#datman.scanid.KCNIIdentifier.pha_re" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.scan_pattern">
<span class="sig-name descname"><span class="pre">scan_pattern</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^(?P&lt;id&gt;(?P&lt;study&gt;[A-Z]{3}[0-9]{2})_(?P&lt;site&gt;[A-Z]{3})_(?P&lt;subject&gt;[A-Z0-9]{4,8})_(?P&lt;timepoint&gt;[0-9]{2})_SE(?P&lt;session&gt;[0-9]{2})_(?P&lt;modality&gt;[A-Z]{2,4}))$')</span></em><a class="headerlink" href="#datman.scanid.KCNIIdentifier.scan_pattern" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="datman.scanid.KCNIIdentifier.scan_re">
<span class="sig-name descname"><span class="pre">scan_re</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'(?P&lt;id&gt;(?P&lt;study&gt;[A-Z]{3}[0-9]{2})_(?P&lt;site&gt;[A-Z]{3})_(?P&lt;subject&gt;[A-Z0-9]{4,8})_(?P&lt;timepoint&gt;[0-9]{2})_SE(?P&lt;session&gt;[0-9]{2})_(?P&lt;modality&gt;[A-Z]{2,4}))'</span></em><a class="headerlink" href="#datman.scanid.KCNIIdentifier.scan_re" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.get_field">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">get_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L511"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.get_field" title="Permalink to this definition"></a></dt>
<dd><p>Find the value of an ID field, allowing for user specified changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match</strong> (<a class="reference external" href="https://docs.python.org/3/library/re.html#re.Match" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">re.Match</span></code></a>) – A match object created from a valid ID</p></li>
<li><p><strong>field</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – An ID field name. This corresponds to the match
groups of valid (supported) ID (e.g. study, site, subject)</p></li>
<li><p><strong>settings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – User settings to specify fields that
should be modified and how to modify them. See the settings
description in <a class="reference internal" href="#datman.scanid.parse" title="datman.scanid.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> for more info. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The value of the field based on the re.Match groups and user</dt><dd><p>settings.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.get_kcni_identifier">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">get_kcni_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L558"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.get_kcni_identifier" title="Permalink to this definition"></a></dt>
<dd><p>Get a KCNIIdentifier from a valid string or an identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></a>) – A string matching a supported naming
convention.</p></li>
<li><p><strong>settings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – A settings dictionary matching the
format described in <a class="reference internal" href="#datman.scanid.parse" title="datman.scanid.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a>. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="datman.exceptions.html#datman.exceptions.ParseException" title="datman.exceptions.ParseException"><strong>ParseException</strong></a> – When an ID that doesnt match any supported convention
    is given or when a valid ID can’t be converted to KCNI format.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>An instance of a KCNI identifier with any field</dt><dd><p>mappings applied.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#datman.scanid.KCNIIdentifier" title="datman.scanid.KCNIIdentifier">KCNIIdentifier</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.get_session_num">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">get_session_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ident</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L493"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.get_session_num" title="Permalink to this definition"></a></dt>
<dd><p>For those times when you always want a numeric session (including
for phantoms who are technically always session ‘1’)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.get_subid">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">get_subid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_subid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L542"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.get_subid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.is_phantom">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">is_phantom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L484"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.is_phantom" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.is_scanid">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">is_scanid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L466"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.is_scanid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.is_scanid_with_session">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">is_scanid_with_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L474"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.is_scanid_with_session" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.make_filename">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">make_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ident</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L457"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.make_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.parse">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L322"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.parse" title="Permalink to this definition"></a></dt>
<dd><p>Parse a subject ID matching a supported naming convention.</p>
<p>The ‘settings’ flag can be used to exclude any IDs that do not match the
specified convention, or to translate certain ID fields to maintain
consistency within a single naming convention.</p>
<dl class="simple">
<dt>Accepted keys include:</dt><dd><dl class="simple">
<dt>‘IdType’: Restricts parsing to one naming convention (e.g. ‘DATMAN’</dt><dd><p>or ‘KCNI’)</p>
</dd>
<dt>‘Study’: Allows the ‘study’ field of an ID to be mapped from another</dt><dd><p>convention’s study code to a datman study code.</p>
</dd>
<dt>‘Site’: Allows the ‘site’ field of an ID to be translated from another</dt><dd><p>convention’s site code to a datman site code.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All ‘settings’ keys are case-sensitive.</p>
</div>
<p>Using the settings from the below example will cause parse to reject any
IDs that are not KCNI format, will translate any valid IDs containing
‘DTI01’ to the study code ‘DTI’, and will translate any valid IDs
containing the site ‘UTO’ to the site ‘UT1’.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;IdType&#39;</span><span class="p">:</span> <span class="s1">&#39;KCNI&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Study&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;DTI01&#39;</span><span class="p">:</span> <span class="s1">&#39;DTI&#39;</span>
    <span class="p">},</span>
    <span class="s1">&#39;Site&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;UTO&#39;</span><span class="p">:</span> <span class="s1">&#39;UT2&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A string that might be a valid subject ID.</p></li>
<li><p><strong>settings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – A dictionary of settings to use when
parsing the ID. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="datman.exceptions.html#datman.exceptions.ParseException" title="datman.exceptions.ParseException"><strong>ParseException</strong></a> – If identifier does not match any supported naming
    convention.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>An instance of a subclass of Identifier for the</dt><dd><p>matched naming convention.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Identifer</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.parse_bids_filename">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">parse_bids_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L433"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.parse_bids_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="datman.scanid.parse_filename">
<span class="sig-prename descclassname"><span class="pre">datman.scanid.</span></span><span class="sig-name descname"><span class="pre">parse_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/tigrlab/datman/blob/9a05db0/datman/scanid.py#L396"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#datman.scanid.parse_filename" title="Permalink to this definition"></a></dt>
<dd><p>Parse a datman style file name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A file name or full path to parse</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="datman.exceptions.html#datman.exceptions.ParseException" title="datman.exceptions.ParseException"><strong>ParseException</strong></a> – If the file name does not match the datman convention.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>A tuple containing:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>ident (<a class="reference internal" href="#datman.scanid.DatmanIdentifier" title="datman.scanid.DatmanIdentifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatmanIdentifier</span></code></a>): The parsed subject ID portion of</dt><dd><p>the path.</p>
</dd>
</dl>
</li>
<li><p>tag (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>): The scan tag that identifies the acquisition.</p></li>
<li><p>series (int): The series number.</p></li>
<li><dl class="simple">
<dt>description (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>): The series description. Should be</dt><dd><p>identical to the SeriesDescription field of the dicom headers
(aside from some mangling to non-alphanumeric characters).</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>)</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datman.scan_list.html" class="btn btn-neutral float-left" title="datman.scan_list module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datman.utils.html" class="btn btn-neutral float-right" title="datman.utils module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016, TIGRLab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>